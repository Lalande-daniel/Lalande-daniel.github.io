<!doctype html>
<html lang="fr">
<style>
@import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&display=swap');
</style>
<head>
  <meta charset="utf-8">
  <title>Scène de crime !</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/css.css">
</head>


<body>
<div class="loading"><img id='gif' src="images/loading.gif"></div>

<div class="liste-element">
  <div class="menu-item" data-hotspot="hotspot1">
    <div class="item-not-found">???</div>
    <div class="item-found">Vous avez trouvé <strong>les gants du tueur !</strong> </div>
  </div><hr>
  <div class="menu-item" data-hotspot="hotspot2">
    <div class="item-not-found">???</div>
    <div class="item-found">Vous avez trouvé<strong> un porte feuille vide !</strong></div>
  </div><hr>
  <div class="menu-item" data-hotspot="hotspot3">
    <div class="item-not-found">???</div>
    <div class="item-found">Vous avez trouvé <strong>des traces de pas !</strong></div>
  </div><hr>
  <div class="menu-item" data-hotspot="hotspot4">
    <div class="item-not-found">???</div>
    <div class="item-found">Vous avez trouvé <strong>une trace de sang !</strong></div>
  </div><hr>
  <div class="menu-item" data-hotspot="hotspot5">
    <div class="item-not-found">???</div>
    <div class="item-found">Vous avez trouvé <strong>l'arme du crime !</strong></div>
  </div><hr>
  <div class="menu-item" data-hotspot="hotspot6">
    <div class="item-not-found">???</div>
    <div class="item-found">Vous avez trouvé <strong>une trace de sang !</strong></div>
  </div><hr>
  <div class="menu-item" data-hotspot="hotspot7">
    <div class="item-not-found">???</div>
    <div class="item-found">Vous avez trouvé <strong>une corde !</strong></div>
  </div><hr>
  <div class="menu-item" data-hotspot="hotspot8">
    <div class="item-not-found">???</div>
    <div class="item-found">Vous avez trouvé <strong>la cagoule du tueur !</strong></div>
  </div><hr>
  <div class="menu-item" data-hotspot="hotspot9">
    <div class="item-not-found">???</div>
    <div class="item-found">Vous avez trouvé <strong>des douilles de balles !</strong></div>
  </div>
</div>
<div class="menu">menu</div>

<div class="fiche" id="fiche1" data-hotspot="hotspot1">
  <img id="image1" src="images/gants.png"><br>
Gants !
</div>
<div class="fiche" id="fiche2" data-hotspot="hotspot2">
  <img id="image2" src="images/porte-feuille.png"><br>
Porte feuille vide !
</div>
<div class="fiche" id="fiche3" data-hotspot="hotspot3">
  <img id="image3" src="images/trace-pas.png"><br><br>
  Trace de pas !
</div>
<div class="fiche" id="fiche4" data-hotspot="hotspot4">
  <img id="image4" src="images/trace-main.png"><br><br>
  Trace de sang !
</div>
<div class="fiche" id="fiche5" data-hotspot="hotspot5">
  <img id="image5" src="images/pistolet.png"><br><br>
  Un pistolet !
</div>
<div class="fiche" id="fiche6" data-hotspot="hotspot6">
  <img id="image6" src="images/trace-mur.png"><br><br>
  Trace de sang !
</div>
<div class="fiche" id="fiche7" data-hotspot="hotspot7">
  <img id="image7" src="images/corde.png"><br><br>
  Une corde !
</div>
<div class="fiche" id="fiche8" data-hotspot="hotspot8">
  <img id="image8" src="images/cagoule.png"><br><br>
  Une cagoule !
</div>
<div class="fiche" id="fiche9" data-hotspot="hotspot9">
  <img id="image9" src="images/douilles.png"><br><br>
  Des douilles de balles !
</div>
  <div class="close"></div>



<span class="dot"></span>
<span class="light"></span>
<div class="popup">
  Félicitations !
  <div class="popup-text">
    Vous avez trouvé tous les éléments indispensables pour résoudre le crime !<br><br><br>
    <a class='boutton' onclick='document.location.reload();'>Rejouez !</a>
  </div>
</div>
  <div class="map">
    <div class="inner">
      <div class="hotspot" id="hotspot1"></div>
      <div class="hotspot" id="hotspot2"></div>
      <div class="hotspot" id="hotspot3"></div>
      <div class="hotspot" id="hotspot4"></div>
      <div class="hotspot" id="hotspot5"></div>
      <div class="hotspot" id="hotspot6"></div>
      <div class="hotspot" id="hotspot7"></div>
      <div class="hotspot" id="hotspot8"></div>
      <div class="hotspot" id="hotspot9"></div>

      </div>

    </div>

    <div class="count">
      <span id="count_found">0</span> / 9
    </div>



    </div>
  </div>
  <div class="hole"></div>






  <script src="js/jquery.js"></script>
  <script src="js/scrollbooster.min.js"></script>

  <script type="text/javascript">


let count_found = 0;

  $(function() {
    $(document).ready(function(){
      setTimeout(function() {
        $(".loading").fadeOut();
      }, 4000);
    });

    $('.hotspot').on('click', function(){
      let id = $(this).attr('id');
      $('.fiche').slideUp();
      $('.close').addClass('show');
      $('.fiche[data-hotspot="'+id+'"]').slideToggle();
    });

    $('.close').on('click', function(){
      $('.fiche').slideUp();
      $('.close').removeClass('show');
    });



    $('.hotspot').not('.found').one('click', function(){
      count_found++;
      $(this).addClass('found');

      let id = $(this).attr('id');
      $('.menu-item[data-hotspot="'+id+'"]').addClass('found');

      $('#count_found').text(count_found);

      if (count_found == 9){
        $('.popup').show();
      }

    });


    $(document).on('mousemove', function(e) {

      $('.hole').css({
        top: e.pageY,
        left: e.pageX
      })
    });


      var scrollElScroll = document.querySelector(".map .inner");
      var scr = new ScrollBooster({
        viewport: document.querySelector(".map"),
        emulateScroll: true,
        bounce: false, // Pour éviter l'effet élastique
        //friction: 0.2, // Pour régler la friction du déplacement
        onUpdate: function(data) {
          scrollElScroll.style.transform =
            "translate(" + -data.position.x + "px, " + -data.position.y + "px)";
        },
      });


      $(".hotspot").on("click", function(){
        $(this).addClass("trouve")
      })


        $('.count').on('click', function(){
          //menu apparait et disparait
          $('.liste-element').slideToggle();
          });




      scr.setPosition({
        x: 110,
        y: 185
      });

    });
  </script>
</body>
</html>
